(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,a){},335:function(e){e.exports={data:{Column1:"Column 1",Column2:"Column 2",Column3:"Column 3",Column4:"Column 4",Column5:"Column 5",Column6:"Column 6",Column7:"Column 7",Column8:"Column 8",Column9:"Column 9",Column10:"Column 10",title:"Data table",ExportXSL:"Export to Excel",startPeriodField:"Start Date",finishPeriodField:"End Date"},login:{username:"Username",password:"Password",loginButton:"Login",authorization:"Authorization",authorizationHelloMessage:"Please enter username and password"},code:{en:"English"},errors:{isRequired:"Filed is Required",username:"Email is Required",password:"Password is Required"},filter:{region:"Region",law:"Law",period:"Period",type:"Type",typeChange:"Type",title:"Data filter",btn:"Submit",changeType:"Other type"}}},347:function(e,t,a){e.exports=a(629)},392:function(e,t,a){},627:function(e,t,a){},629:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),s=a(215),i=function(e){var t=e.isAuth;return r.a.createElement("div",null,t&&r.a.createElement(s.a,{to:"/filter"}),r.a.createElement(D,e))},c=a(65),u=(a(154),function(e){var t=e.isAuth,a=e.user,l=e.logOut;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"header__dropdown-icon"},r.a.createElement("i",{className:"icon-person"})),t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header__dropdown-group"},r.a.createElement("span",null,"Welcome"),r.a.createElement("p",null,a.userName)),r.a.createElement("button",{onClick:l,className:"icon-exit"})):r.a.createElement(c.b,{to:"/login"},"Sign In"))}),m=a(42),d=a(56),g=a(31),p=a.n(g),f=a(58),E=a(191),b=(a(322).create({baseURL:"",withCredentials:!0}),{login:function(e){return new Promise(function(t,a){"test"===e.username&&"test"===e.password&&t({status:"ok",user:{userId:"1",userName:"test",role:"admin"}})})},logout:function(){return new Promise(function(e,t){e({status:"ok"})})}}),h={isAuth:!1,user:{userId:null,userName:null,role:null}},v=function(e){return{type:"IPR/LOGIN/SET_USER",user:e}},N=function(e){return{type:"IPR/LOGIN/SET_IS_AUTH",isAuth:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IPR/LOGIN/SET_USER":return Object(E.a)({},e,{user:Object(E.a)({},t.user)});case"IPR/LOGIN/SET_IS_AUTH":return Object(E.a)({},e,{isAuth:t.isAuth});default:return e}},j=Object(m.d)(Object(d.b)(function(e){return{isAuth:e.loginPage.isAuth,user:e.loginPage.user}},{logout:function(){return function(){var e=Object(f.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.logout();case 3:t(v({userId:null,userName:null,role:null})),t(N(!1)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}}))(function(e){return r.a.createElement(u,Object.assign({},e,{logOut:function(){e.logout()}}))}),y=a(45),x=Object(m.d)(s.f,Object(y.b)("common"),Object(d.b)(function(e){return{isAuth:e.loginPage.isAuth}},{login:function(e){return function(){var t=Object(f.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.login(e);case 3:(n=t.sent).user&&(a(v(n.user)),a(N(!0))),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}}))(function(e){return r.a.createElement(i,Object.assign({},e,{onLogin:function(t){e.login(t)}}))}),O=Object(y.b)("common")(function(e){var t=e.title,a=e.register,l=e.name,o=e.errors,s=e.t,i=e.type,c=e.className;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:!c&&"form-group support__form-group"},r.a.createElement("p",{className:"form-group__label"},t,!c&&r.a.createElement("span",{className:"text-danger"},"*"),o[l]&&r.a.createElement("span",{className:"text-danger"},s("errors.isRequired"))),r.a.createElement("input",{type:i,name:l,className:!c&&"input js-input input-grey input--rect",ref:a})))}),C=a(36),_=a(326),S=function(e){var t=e.title,a=e.setValue,l=e.register,o=e.filter,s=e.name,i=e.errors,c=e.t,u=r.a.useState({selectedOption:""}),m=Object(C.a)(u,2),d=m[0],g=m[1];return r.a.useEffect(function(){l({name:s})},[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group support__form-group"},r.a.createElement("p",{className:"form-group__label"}," ",t,r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(_.a,{value:d.selectedOption,options:o[s],onChange:function(e){a(s,e.value),g({selectedOption:e})},placeholder:i[s]&&r.a.createElement("span",{className:"text-danger"},c("errors.isRequired"))})))},R=(a(392),a(327),Object(y.b)("common")(function(e){var t=e.title,a=e.register,l=e.name,o=e.errors,s=e.t;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group support__form-group"},r.a.createElement("p",{className:"form-group__label"},t,r.a.createElement("span",{className:"text-danger"},"*"),o[l]&&r.a.createElement("span",{className:"text-danger"},s("errors.isRequired"))),r.a.createElement("textarea",{name:l,className:"textarea js-input textarea--rect",ref:a})))})),T=Object(y.b)("common")(function(e){var t=e.title,a=e.register,l=e.onChange,o=e.checked;return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",className:"radio",ref:a,onChange:l,checked:o}),r.a.createElement("label",{className:"label header-actions__lang"},t)))}),P=function(e){return r.a.createElement("button",Object.assign({className:e.className,onClick:e.onClick},e.width,{disabled:e.disabled}),r.a.createElement("span",null,e.title))},k=a(117),A=a(222),L=k.object().shape({username:k.string().required("login.emailRequired"),password:k.string().required("login.passwordRequired")}),D=function(e){var t=e.t,a=e.onLogin,l=Object(A.a)({validationSchema:L,defaultValues:{username:"test",password:"test"}}),o=l.handleSubmit,s=l.register,i=l.errors;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"content-header b-b"},r.a.createElement("h2",{className:"content-header__title"},t("login.authorization")),r.a.createElement("p",{className:"text text-gray pt-xs"},t("login.authorizationHelloMessage"))),r.a.createElement("form",{className:"js-submit-form js-support-form",onSubmit:o(function(e){a(e)})},r.a.createElement("div",{className:"content-pane"},r.a.createElement(O,{register:s,type:"text",name:"username",title:t("login.username"),errors:i,t:t}),r.a.createElement(O,{register:s,type:"password",name:"password",title:t("login.password"),errors:i,t:t}),r.a.createElement("div",{className:"modal-footer text-left b-t mt-lg"},r.a.createElement(P,{title:t("login.loginButton"),className:"btn btn--brand btn--long btn--no-shadow js-services-modal-toggler"})))))},F=Object(m.d)(Object(y.b)("common"))(function(){return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header-wrap"},r.a.createElement("div",{className:"header-actions"},r.a.createElement("div",{className:"header__dropdown js-profile-toggler"},r.a.createElement(j,null))))))}),q=a(328),I=a.n(q),V=(a(313),function(e){var t=e.t,a=e.isAuth,n=e.handleExportToExcel;return r.a.createElement("div",null,!a&&r.a.createElement(s.a,{to:"/login"}),r.a.createElement("div",null,r.a.createElement("div",{className:"content-header b-b"},r.a.createElement("p",{className:"content-header__subtitle"},t("data.title")),r.a.createElement("h2",{className:"content-header__title"},t("data.title")),r.a.createElement("div",{className:"modal-footer text-left b-t mt-lg"},r.a.createElement(P,{title:t("data.ExportXSL"),className:"btn btn--brand btn--long btn--no-shadow js-services-modal-toggler",onClick:n}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement(I.a,{title:"",columns:e.columns,options:{headerStyle:{position:"sticky",top:"0",minHeight:"2em"},padding:"dense",pageSizeOptions:[25,50,75,100],pageSize:100,columnsButton:!0},data:e.data}))))}),z=a(333),H=(a(624),function(e){var t=e.t,a=e.isAuth,n=e.filter,l=e.submitForm,o=e.changeDate,i=e.errorsDate,c=e.showTextarea,u=e.handleShowTextarea,m=e.handleSubmit,d=e.register,g=e.errors,p=e.setValue;return r.a.createElement("div",null,!a&&r.a.createElement(s.a,{to:"/login"}),r.a.createElement("section",{className:"content support"},r.a.createElement("div",{className:"content-header b-b"},r.a.createElement("h2",{className:"content-header__title"},t("filter.title")),r.a.createElement("p",{className:"text text-gray pt-xs"},t("filter.title"))),r.a.createElement("div",{className:"content-pane"},r.a.createElement("form",{className:"js-submit-form js-support-form",onSubmit:m(function(e){l(e)})},r.a.createElement("div",null,r.a.createElement(S,{setValue:p,register:d,filter:n,name:"region",title:t("filter.region"),errors:g,t:t})),r.a.createElement("div",null,r.a.createElement(S,{setValue:p,register:d,filter:n,name:"law",title:t("filter.law"),errors:g,t:t})),r.a.createElement("div",{className:"form-group support__form-group"},r.a.createElement("p",{className:"form-group__label"}," ",t("filter.period"),r.a.createElement("span",{className:"text-danger"},"*",i&&r.a.createElement("span",{className:"text-danger"},t("errors.isRequired")))),r.a.createElement(z.RangeDatePicker,{onChange:function(e,t){return o(e,t)},startPlaceholder:t("data.startPeriodField"),endPlaceholder:t("data.finishPeriodField")})),r.a.createElement("div",null,r.a.createElement(T,{setValue:p,register:d,filter:n,name:"changeType",title:t("filter.changeType"),errors:g,t:t,checked:c,onChange:u})),c?r.a.createElement("div",null,r.a.createElement(R,{setValue:p,register:d,filter:n,name:"typeChange",title:t("filter.typeChange"),errors:g,t:t})):r.a.createElement("div",null,r.a.createElement(S,{setValue:p,register:d,filter:n,name:"type",title:t("filter.type"),errors:g,t:t})),r.a.createElement("div",{className:"modal-footer text-center b-t mt-lg"},r.a.createElement(P,{title:t("filter.btn"),className:"btn btn--brand btn--long btn--no-shadow js-services-modal-toggler"}))))))}),U=Object(m.d)(s.f,Object(d.b)(function(e){return{isAuth:e.loginPage.isAuth}}),Object(y.b)("common"))(function(e){var t=e.t,a=[{title:t("data.Column1"),field:"shopDto.shopName"},{title:t("data.Column2"),field:"inspectionType"},{title:t("data.Column3"),field:"inspectionDate"},{title:t("data.Column4"),field:"employeeName"},{title:t("data.Column5"),field:"violationsCount"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,Object.assign({},e,{columns:a,handleExportToExcel:function(){alert("Request to server for export to Excel")}})))}),B=k.object().shape({region:k.string().required(),law:k.string().required()}),G=Object(m.d)(s.f,Object(d.b)(function(e){return{isAuth:e.loginPage.isAuth,filter:e.filterPage.filter}}),Object(y.b)("common"))(function(e){var t=r.a.useState(""),a=Object(C.a)(t,2),n=a[0],l=a[1],o=r.a.useState(""),s=Object(C.a)(o,2),i=s[0],c=s[1],u=r.a.useState(!1),m=Object(C.a)(u,2),d=m[0],g=m[1],p=r.a.useState(!1),f=Object(C.a)(p,2),E=f[0],b=f[1],h=Object(A.a)({validationSchema:B}),v=h.handleSubmit,N=h.register,w=h.errors,j=h.setValue;return r.a.createElement(H,Object.assign({},e,{submitForm:function(t){""===i?g(!0):e.history.push("../data");var a={};""!==i&&(a=t.type?{region:t.region,law:t.law,startDate:n,endDate:i,type:t.type}:{region:t.region,law:t.law,startDate:n,endDate:i,type:t.typeChange},console.log(a))},changeDate:function(e,t){t?(c(t),g(!1)):l(e)},startDate:n,endDate:i,errorsDate:d,showTextarea:E,handleShowTextarea:function(){b(!E)},handleSubmit:v,register:N,errors:w,setValue:j}))}),M=Object(y.b)("common")(function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(F,null)),r.a.createElement("section",{className:"content home"},r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"content-form"},r.a.createElement(s.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(x,null)}}),r.a.createElement(s.b,{exact:!0,path:"/data",render:function(){return r.a.createElement(U,null)}}),r.a.createElement(s.b,{exact:!0,path:"/filter",render:function(){return r.a.createElement(G,null)}})))),r.a.createElement("footer",{className:"footer"},r.a.createElement("p",null,"All rights reserved \xa9 2019")))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=a(334),J={filter:{region:[{value:"Region 1",label:"Region 1"},{value:"Region 2",label:"Region 2"},{value:"Region 3",label:"Region 3"},{value:"Region 4",label:"Region 4"}],law:[{value:"Law 1",label:"Law 1"},{value:"Law 2",label:"Law 2"},{value:"Law 3",label:"Law 3"},{value:"Law 4",label:"Law 4"}],period:[{value:"Hours",label:"Hours"},{value:"Day",label:"Day"},{value:"Month",label:"Month"},{value:"Year",label:"Year"}],type:[{value:"Type 1",label:"Type 1"},{value:"Type 2",label:"Type 2"},{value:"Type 3",label:"Type 3"},{value:"Type 4",label:"Type 4"}]}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return(arguments.length>1?arguments[1]:void 0).type,e},Y=Object(m.c)({loginPage:w,filterPage:X}),$=Object(m.e)(Y,Object(m.a)(W.a));window.store=$;var K=a(311),Q=a(335);a(627);K.a.init({interpolation:{escapeValue:!1},lng:"en",resources:{en:{common:Q}}}),o.a.render(r.a.createElement(y.a,{i18n:K.a,initialLanguage:"en"},r.a.createElement(d.a,{store:$},r.a.createElement(c.a,null,r.a.createElement(M,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[347,2,1]]]);
//# sourceMappingURL=main.d07b5e32.chunk.js.map